---
title: "R Notebook"
output: html_notebook
---



# Analysing time lags


```{R}
# housekeeping
rm(list = ls())

# objects
only.remaining = F

# files/folders
if ( only.remaining){
  load( file.path( PROJHOME , "Output" , "Topological", "REMrobofalcon-data.rda"))
} else{
  load( file.path( PROJHOME , "Output" , "Topological", "ALLrobofalcon-data.rda"))
}



whi = which ( names (dat) == "lag-5")
vars = c("turn2falcpos","turn2falchead","align","attract","turn2home")
run = 8
mat = matrix(NA, run, 5, dimnames = list( names(dat)[whi:(whi+(run-1))],
                                          vars))
for ( i in 1:run){
  #i=1
  for ( j in 1:length(vars)){
    #j=1
    mat[i,j] = summary( lm(dat[,(whi-1+i)] ~ dat[,vars[j]]))$coeff[2,"t value"]
  }
}

lags = seq(-5,2,1)
lagnam = paste0("lag",lags)

dat.4.plot = list(lagnam, mat)

save( dat.4.plot, file = file.path(PROJHOME, "Figures", "FigureData", "lags_as_predictors_of_turn"))
plot(dat.4.plot[[2]][,1])
```

